---
title: Resume
author: ''
date: '2022-10-16'
slug: resume
categories: []
tags: []
---



<p>This data was retrieved from the <a href="https://datacatalog.worldbank.org/search/dataset/0038026/Worldwide-Governance-Indicators">World Bank</a>.</p>
<!--more-->
<div id="raw-data" class="section level2">
<h2>Raw Data</h2>
<p><a href="/files/resume.pdf">View Resume</a></p>
<pre class="r"><code>print(df)
## # A tibble: 7,704 × 28
##    Country N…¹ Count…² Indic…³ Indic…⁴ `1996` `1998` `2000` `2002` `2003` `2004`
##    &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 Afghanistan AFG     Contro… CC.EST  -1.29  -1.18  -1.27  -1.25  -1.34  -1.35 
##  2 Afghanistan AFG     Contro… CC.NO.…  2      2      2      2      3      5    
##  3 Afghanistan AFG     Contro… CC.PER…  4.30   8.02   4.79   4.76   4.76   6.40 
##  4 Afghanistan AFG     Contro… CC.PER…  0      0      0      0      0      0    
##  5 Afghanistan AFG     Contro… CC.PER… 27.4   33.7   30.9   32.8   19.0   15.3  
##  6 Afghanistan AFG     Contro… CC.STD…  0.341  0.324  0.347  0.353  0.270  0.213
##  7 Afghanistan AFG     Govern… GE.EST  -2.18  -2.10  -2.17  -1.59  -1.13  -0.910
##  8 Afghanistan AFG     Govern… GE.NO.…  1      1      1      2      2      4    
##  9 Afghanistan AFG     Govern… GE.PER…  0      0      0      2.16  11.4   18.9  
## 10 Afghanistan AFG     Govern… GE.PER…  0      0      0      0      1.62   5.97 
## # … with 7,694 more rows, 18 more variables: `2005` &lt;dbl&gt;, `2006` &lt;dbl&gt;,
## #   `2007` &lt;dbl&gt;, `2008` &lt;dbl&gt;, `2009` &lt;dbl&gt;, `2010` &lt;dbl&gt;, `2011` &lt;dbl&gt;,
## #   `2012` &lt;dbl&gt;, `2013` &lt;dbl&gt;, `2014` &lt;dbl&gt;, `2015` &lt;dbl&gt;, `2016` &lt;dbl&gt;,
## #   `2017` &lt;dbl&gt;, `2018` &lt;dbl&gt;, `2019` &lt;dbl&gt;, `2020` &lt;dbl&gt;, `2021` &lt;dbl&gt;,
## #   ...28 &lt;lgl&gt;, and abbreviated variable names ¹​`Country Name`,
## #   ²​`Country Code`, ³​`Indicator Name`, ⁴​`Indicator Code`</code></pre>
</div>
<div id="prepararation" class="section level2">
<h2>Prepararation</h2>
<p>During the preparation I had to pivot the years into a single variable and add the corresponding continent to each country.</p>
<pre class="r"><code>
# Pivoting
df_wgi &lt;- df %&gt;%
          pivot_longer(-c(1:4), names_to = &quot;year&quot;, values_to = &quot;value&quot;) %&gt;% 
          clean_names() %&gt;% 
          select(-indicator_code)

# Adding Continents
df_wgi &lt;- df_wgi %&gt;% 
            inner_join(countrycode::codelist %&gt;% select(continent, cow.name), 
                       by = c(country_name = &quot;cow.name&quot;))
print(df_wgi)
## # A tibble: 145,152 × 6
##    country_name country_code indicator_name                  year  value conti…¹
##    &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;                           &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  
##  1 Afghanistan  AFG          Control of Corruption: Estimate 1996  -1.29 Asia   
##  2 Afghanistan  AFG          Control of Corruption: Estimate 1998  -1.18 Asia   
##  3 Afghanistan  AFG          Control of Corruption: Estimate 2000  -1.27 Asia   
##  4 Afghanistan  AFG          Control of Corruption: Estimate 2002  -1.25 Asia   
##  5 Afghanistan  AFG          Control of Corruption: Estimate 2003  -1.34 Asia   
##  6 Afghanistan  AFG          Control of Corruption: Estimate 2004  -1.35 Asia   
##  7 Afghanistan  AFG          Control of Corruption: Estimate 2005  -1.45 Asia   
##  8 Afghanistan  AFG          Control of Corruption: Estimate 2006  -1.45 Asia   
##  9 Afghanistan  AFG          Control of Corruption: Estimate 2007  -1.61 Asia   
## 10 Afghanistan  AFG          Control of Corruption: Estimate 2008  -1.67 Asia   
## # … with 145,142 more rows, and abbreviated variable name ¹​continent</code></pre>
</div>
<div id="indicators" class="section level2">
<h2>Indicators</h2>
<p>Given the indicators available in the dataset I selected to analyzie the following:</p>
<pre class="r"><code>df_wgi %&gt;% 
distinct(indicator_name) %&gt;% 
filter(indicator_name %in% c(&quot;Government Effectiveness: Estimate&quot;, 
                             &quot;Control of Corruption: Estimate&quot;,
                             &quot;Regulatory Quality: Estimate&quot;, 
                             &quot;Rule of Law: Estimate&quot;))
## # A tibble: 4 × 1
##   indicator_name                    
##   &lt;chr&gt;                             
## 1 Control of Corruption: Estimate   
## 2 Government Effectiveness: Estimate
## 3 Regulatory Quality: Estimate      
## 4 Rule of Law: Estimate</code></pre>
</div>
<div id="plots" class="section level2">
<h2>Plots</h2>
<p>To better analyze the dataset, I decided to group the countries available in the dataset by continent and
compare them accordingly.</p>
<p>You can also embed plots. See Figure <a href="#fig:pie">1</a> for example:</p>
<pre class="r"><code>par(mar = c(0, 1, 0, 1))
pie(
  c(280, 60, 20),
  c(&#39;Sky&#39;, &#39;Sunny side of pyramid&#39;, &#39;Shady side of pyramid&#39;),
  col = c(&#39;#0292D8&#39;, &#39;#F7EA39&#39;, &#39;#C4B632&#39;),
  init.angle = -50, border = NA
)</code></pre>
<div class="figure"><span style="display:block;" id="fig:pie"></span>
<img src="/posts/2022-10-16-resume/resume_files/figure-html/pie-1.png" alt="A fancy pie chart." width="768cm" />
<p class="caption">
Figure 1: A fancy pie chart.
</p>
</div>
<pre class="r"><code># Effectiveness
  df_wgi %&gt;% 
  filter(indicator_name == &quot;Government Effectiveness: Estimate&quot;) %&gt;% 
  mutate(indicator_name = str_replace(indicator_name, 
                                      pattern =  &quot;Government Effectiveness: Estimate&quot;,
                                      replacement = &quot;Government Effectiveness&quot;)) %&gt;% 
  group_by(continent) %&gt;% 
  filter(continent != &quot;NA&quot;,
         year &gt; 2015) %&gt;% 
  ggplot(aes(x = year, y = value, fill = continent)) +
  geom_boxplot(na.rm = T) +
  # scale_fill_viridis_d(option = &quot;mako&quot;) +
  scale_fill_brewer(palette = &quot;Dark2&quot;) +
  coord_flip() +
  geom_hline(yintercept = 0, linetype = &quot;dashed&quot;, size = .8) +
  labs(title = &quot;Effectiveness&quot;, x = element_blank(), y = element_blank()) +
  # theme_bw() +
  cowplot::theme_cowplot() +
  theme(axis.text = element_text(size = 14, face = &quot;bold&quot;),
        title = element_text(size = 20),
        legend.text = element_text(size = 16),
        legend.title = element_blank()) -&gt; p1


# Control of Corruption
  df_wgi %&gt;% 
    filter(indicator_name == &quot;Control of Corruption: Estimate&quot;) %&gt;% 
    mutate(indicator_name = str_replace(indicator_name, 
                                        pattern =  &quot;Control of Corruption: Estimate&quot;,
                                        replacement = &quot;Control of Corruption&quot;)) %&gt;% 
    group_by(continent) %&gt;% 
    filter(continent != &quot;NA&quot;,
           year &gt; 2015) %&gt;% 
    ggplot(aes(x = year, y = value, fill = continent)) +
    geom_boxplot(na.rm = T) +
    # scale_fill_viridis_d(option = &quot;mako&quot;) +
    scale_fill_brewer(palette = &quot;Dark2&quot;) +
    coord_flip() +
    geom_hline(yintercept = 0, linetype = &quot;dashed&quot;, size = .8) +
    labs(title = &quot;Control of Corruption&quot;, x = element_blank(), y = element_blank()) +
    # theme_bw() +
    cowplot::theme_cowplot() +
    theme(axis.text = element_text(size = 14, face = &quot;bold&quot;), 
          title = element_text(size = 20),
          legend.text = element_text(size = 16),
          legend.title = element_blank()) -&gt; p2


# Regulatory Quality
  df_wgi %&gt;% 
    filter(indicator_name == &quot;Regulatory Quality: Estimate&quot;) %&gt;% 
    mutate(indicator_name = str_replace(indicator_name, 
                                        pattern =  &quot;Regulatory Quality: Estimate&quot;,
                                        replacement = &quot;Regulatory Quality&quot;)) %&gt;% 
    group_by(continent) %&gt;% 
    filter(continent != &quot;NA&quot;,
           year &gt; 2015) %&gt;% 
    ggplot(aes(x = year, y = value, fill = continent)) +
    geom_boxplot(na.rm = T) +
    # scale_fill_viridis_d(option = &quot;mako&quot;) +
    scale_fill_brewer(palette = &quot;Dark2&quot;) +
    coord_flip() +
    geom_hline(yintercept = 0, linetype = &quot;dashed&quot;, size = .8) +
    labs(title = &quot;Regulatory Quality&quot;, x = element_blank(), y = element_blank()) +
    # theme_bw() +
    cowplot::theme_cowplot() +
    theme(axis.text = element_text(size = 14, face = &quot;bold&quot;), 
          title = element_text(size = 20),
          legend.text = element_text(size = 16),
          legend.title = element_blank()) -&gt; p3

  
# Rule of Law
  df_wgi %&gt;% 
    filter(indicator_name == &quot;Rule of Law: Estimate&quot;) %&gt;% 
    mutate(indicator_name = str_replace(indicator_name, 
                                        pattern =  &quot;Rule of Law: Estimate&quot;,
                                        replacement = &quot;Rule of Law&quot;)) %&gt;% 
    group_by(continent) %&gt;% 
    filter(continent != &quot;NA&quot;,
           year &gt; 2015) %&gt;% 
    ggplot(aes(x = year, y = value, fill = continent)) +
    geom_boxplot(na.rm = T) +
    # scale_fill_viridis_d(option = &quot;mako&quot;) +
    scale_fill_brewer(palette = &quot;Dark2&quot;) +
    coord_flip() +
    geom_hline(yintercept = 0, linetype = &quot;dashed&quot;, size = .8) +
    labs(title = &quot;Rule of Law&quot;, x = element_blank(), y = element_blank()) +
    # theme_bw() +
    cowplot::theme_cowplot() +
    theme(axis.text = element_text(size = 14, face = &quot;bold&quot;), 
          title = element_text(size = 20),
          legend.text = element_text(size = 16),
          legend.title = element_blank()) -&gt; p4</code></pre>
<p><a href="%22widgets/plotly.html%22">View Plotly</a></p>
<pre class="r"><code>knitr::include_url(&quot;https://www.renanperes.com/files/widgets/plotly.html&quot;)</code></pre>
<iframe src="https://www.renanperes.com/files/widgets/plotly.html" width="768cm" height="400px" data-external="1">
</iframe>
</div>
